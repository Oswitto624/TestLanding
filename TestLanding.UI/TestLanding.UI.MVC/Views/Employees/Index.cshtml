@model IEnumerable<TestLanding.Domain.ViewModels.EmployeeViewModel>

@{
       ViewData["Title"] = "Наши сотрудники";        
}

<div class="container">
    
    <a asp-action="Create" class="btn btn-info btn-lg">Создать работника</a>
    
    <hr />

    @if (Model.Any())
    {
        <table class="table table-striped table-hover">
            <thead>
                <tr>
                 <th>@Html.ActionLink("Id", "Index", new { sortOrder = ViewBag.IdSortParam })</th>
                 <th>@Html.ActionLink("Фамилия", "Index", new { sortOrder = ViewBag.LastNameSortParam })</th>
                 <th>@Html.ActionLink("Имя", "Index", new { sortOrder = ViewBag.FirstNameSortParam })</th>
                 <th>@Html.ActionLink("Отчество", "Index", new { sortOrder = ViewBag.PatronymicSortParam })</th>  
                 <th>@Html.ActionLink("Дата рождения", "Index", new { sortOrder = ViewBag.DateOfBirthSortParam })</th>
                 <th>@Html.ActionLink("Отдел", "Index", new { sortOrder = ViewBag.DepartmentSortParam })</th>
                 <th>@Html.ActionLink("Зарплата", "Index", new { sortOrder = ViewBag.SalarySortParam })</th>
                 <th>@Html.ActionLink("Дата приёма на работу", "Index", new { sortOrder = ViewBag.DateOfDepartmentSortParam })</th>
                 <th></th>
                </tr>
            </thead>

            <tbody>
                @foreach(var employee in Model)
                {
                    <tr>
                        <td><a asp-action="Details" asp-route-id="@employee.Id">@employee.Id</a></td>
                        <td>@employee.LastName</td>
                        <td>@employee.FirstName</td>
                        <td>@employee.Patronymic</td>
                        <td>@employee.DateOfBirth.ToShortDateString()</td>
                        <td>@employee.Department.Name</td>
                        <td>@employee.Salary.ToString("C")</td>
                        <td>@employee.DateOfEmployment.ToShortDateString()</td>
                        <td>
                             <a asp-action="Edit" asp-route-id="@employee.Id" class="btn btn-success">
                                 <i class="fa-regular fa-pen-to-square"></i>
                             </a>
                             <a asp-action="Delete" asp-route-id="@employee.Id" class="btn btn-danger " aria-label="Delete">
                                 <i class="fa-regular fa-trash-can"></i>
                             </a>
                         </td>
                    </tr>
                }
            </tbody>
        </table>
    }

    <hr/>
<a asp-controller="Home" asp-action="Index" class="btn btn-outline-secondary"> На главную</a>

</div>